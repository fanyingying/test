(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e04bcc0"],{"5af8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a(e.currentRole,{tag:"component"})],1)},r=[],s=a("cebc"),i=a("2f62"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-container"},[a("div",{staticClass:"sub-navbar"},[a("span",{staticClass:"sticky-item"},[a("device-select",{on:{click:e.getterminalIds}})],1)]),e._v(" "),a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card mb20"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设置平台参数")])]),e._v(" "),a("set-param",{attrs:{"terminal-ids":e.terminalIds}})],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,sm:12,md:12,lg:6}},[a("el-card",{staticClass:"box-card mb10"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设备参数查询")])]),e._v(" "),a("el-row",{staticClass:"tr",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:18,md:17,lg:17}},[a("el-select",{staticClass:"mb10",attrs:{placeholder:"请选择查询类型"},model:{value:e.queryInformation,callback:function(t){e.queryInformation=t},expression:"queryInformation"}},e._l(e.queryInformationOpt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-col",{staticClass:"tl",attrs:{xs:24,sm:6,md:7,lg:7}},[a("el-button",{attrs:{type:"primary"},on:{click:e.parameterQuery}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24,sm:12,md:12,lg:6}},[a("el-card",{staticClass:"box-card mb10"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设备定位")])]),e._v(" "),a("div",{staticClass:"tc mb10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发送")])],1)])],1),e._v(" "),a("el-col",{attrs:{span:24,sm:12,md:12,lg:6}},[a("el-card",{staticClass:"box-card mb10"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设备复位")])]),e._v(" "),a("div",{staticClass:"tc mb10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发送")])],1)])],1),e._v(" "),a("el-col",{attrs:{span:24,sm:12,md:12,lg:6}},[a("el-card",{staticClass:"box-card mb20"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("倾角校零")])]),e._v(" "),a("div",{staticClass:"tc mb10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发送")])],1)])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,sm:24,md:12,lg:12}},[a("el-card",{staticClass:"box-card mb20"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("平台对时")])]),e._v(" "),a("el-form",{ref:"Form",attrs:{"label-width":"100px"},model:{value:e.timeCheck,callback:function(t){e.timeCheck=t},expression:"timeCheck"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:12}},[a("el-form-item",{attrs:{label:"时区标识："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.timeCheck.timeZone,callback:function(t){e.$set(e.timeCheck,"timeZone",t)},expression:"timeCheck.timeZone"}},e._l(e.timeZoneOpt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:12}},[a("el-form-item",{attrs:{label:"时区编码："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.timeCheck.timeCode,callback:function(t){e.$set(e.timeCheck,"timeCode",t)},expression:"timeCheck.timeCode"}},e._l(e.timeCodeOpt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tc"},[a("el-button",{attrs:{type:"primary"},on:{click:e.setPlatformTime}},[e._v("发送")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24,sm:24,md:12,lg:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("工作时间")])]),e._v(" "),a("div",{staticClass:"tc"},[a("el-time-picker",{staticClass:"mb5",attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1),e._v(" "),a("div",{staticClass:"tc"},[a("el-button",{attrs:{type:"primary"},on:{click:e.setWorktime}},[e._v("发送")])],1)])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,sm:24,md:12,lg:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("固件升级")])]),e._v(" "),a("firmware-update",{attrs:{"terminal-ids":e.terminalIds}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24,sm:24,md:12,lg:12}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("终端激活")])]),e._v(" "),a("activation",{attrs:{"terminal-ids":e.terminalIds}})],1)],1)],1)],1)])},o=[],c=a("7618"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[a("div",{class:e.className+" "+e.position,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[a("div",[e._v("sticky")])])],2)])},d=[],u=(a("c5f6"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleReize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleReize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleReize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),p=u,f=a("2877"),h=Object(f["a"])(p,m,d,!1,null,null,null),b=h.exports,v=a("7026"),g=a.n(v),x=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"Form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"固件文件"}},[a("el-upload",{ref:"upload",staticClass:"upload-box",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"固件包长"}},[a("el-input",{attrs:{placeholder:"请输入",type:"text"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:e.submitUpload}},[e._v("上传")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发送")])],1)],1)}),y=[],_={name:"FirmwareUpdate",props:{terminalIds:{type:Array,default:[]}},data:function(){return{fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}}},C=_,k=Object(f["a"])(C,x,y,!1,null,null,null),w=k.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"Form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"激活文件"}},[a("el-upload",{ref:"upload",staticClass:"upload-box",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"激活码"}},[a("el-input",{attrs:{placeholder:"请输入",type:"text"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){}}},[e._v("发送")])],1)],1)},I=[],$={name:"Activation",props:{terminalIds:{type:Array,default:[]}},data:function(){return{fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}}},j=$,O=Object(f["a"])(j,D,I,!1,null,null,null),T=O.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"paramForm",attrs:{model:e.formData,rules:e.rules,"label-position":"top","label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"垃圾箱高度：mm(300-3000)",prop:"trashCanHeight"}},[a("el-input",{attrs:{type:"number",min:300,max:3e3},model:{value:e.formData.trashCanHeight,callback:function(t){e.$set(e.formData,"trashCanHeight",t)},expression:"formData.trashCanHeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"溢满线：%(50-100)"}},[a("el-input",{attrs:{type:"number",min:50,max:100},model:{value:e.formData.brimOver,callback:function(t){e.$set(e.formData,"brimOver",t)},expression:"formData.brimOver"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"角度阈值：°(15-90)"}},[a("el-input",{attrs:{type:"number",min:15,max:90},model:{value:e.formData.angleThreshold,callback:function(t){e.$set(e.formData,"angleThreshold",t)},expression:"formData.angleThreshold"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"采样周期：秒(1800-65535)"}},[a("el-input",{attrs:{type:"number",min:1800,max:65535},model:{value:e.formData.samplingPeriod,callback:function(t){e.$set(e.formData,"samplingPeriod",t)},expression:"formData.samplingPeriod"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"垃圾箱实际高度：mm(300-3000)"}},[a("el-input",{attrs:{type:"number",min:30,max:3e3},model:{value:e.formData.dustbinHight,callback:function(t){e.$set(e.formData,"dustbinHight",t)},expression:"formData.dustbinHight"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"开盖超时：分钟(20-255) "}},[a("el-input",{attrs:{type:"number",min:20,max:255},model:{value:e.formData.openCoverTimeout,callback:function(t){e.$set(e.formData,"openCoverTimeout",t)},expression:"formData.openCoverTimeout"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"清除线 ：%(15-30) "}},[a("el-input",{attrs:{type:"number",min:15,max:30},model:{value:e.formData.scavengingLine,callback:function(t){e.$set(e.formData,"scavengingLine",t)},expression:"formData.scavengingLine"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"温度阈值 ：℃(60-80) "}},[a("el-input",{attrs:{type:"number",min:60,max:80},model:{value:e.formData.temperatureThreshold,callback:function(t){e.$set(e.formData,"temperatureThreshold",t)},expression:"formData.temperatureThreshold"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"触发方式 ："}},[a("el-select",{attrs:{placeholder:""},model:{value:e.formData.triggerMode,callback:function(t){e.$set(e.formData,"triggerMode",t)},expression:"formData.triggerMode"}},e._l(e.triggerModeOpt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"心跳周期 ：小时(12-255) "}},[a("el-input",{attrs:{type:"number",min:12,max:255},model:{value:e.formData.heartbeatCycle,callback:function(t){e.$set(e.formData,"heartbeatCycle",t)},expression:"formData.heartbeatCycle"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"截止电压 ：mV(2500-3600) "}},[a("el-input",{attrs:{type:"number",min:2500,max:3600},model:{value:e.formData.batV,callback:function(t){e.$set(e.formData,"batV",t)},expression:"formData.batV"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[a("el-form-item",{attrs:{label:"预留参数 ："}},[a("el-input",{model:{value:e.formData.param,callback:function(t){e.$set(e.formData,"param",t)},expression:"formData.param"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"tc mt10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.setParam("paramForm")}}},[e._v("  发送  ")])],1)],1)},R=[],z={name:"SetParam",props:{terminalIds:{type:Array,default:[]}},data:function(){return{triggerModeOpt:[{value:0,label:"翻盖等动作触发"},{value:1,label:"定时采集"}],formData:{trashCanHeight:1200,brimOver:80,angleThreshold:30,samplingPeriod:3600,dustbinHight:1200,openCoverTimeout:30,scavengingLine:20,temperatureThreshold:75,triggerMode:0,heartbeatCycle:12,batV:3200,param:""},rules:{trashCanHeight:[{required:!0,type:"number",trigger:"blur",message:"请正确输入垃圾箱高度",min:300,max:3e3,transform:function(e){return Number(e)}}]}}},methods:{setParam:function(e){var t=this;console.log(this.terminalIds),this.terminalIds.length<=0?this.$message.error("请选择一个设备！"):this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("user/login",t.formData).then(function(){t.$message.success("下发成功")}).catch(function(e){t.$message.error("下发成功"),t.loading=!1})})}}},S=z,L=(a("bfd6"),Object(f["a"])(S,P,R,!1,null,null,null)),E=L.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("treeselect",{class:"el-input--"+e.size,attrs:{options:e.treeData,disableBranchNodes:!1,multiple:!0,"value-consists-of":"LEAF_PRIORITY",placeholder:"请选择设备",normalizer:e.normalizer,joinValues:!0,limit:2,closeOnSelect:!1,"flatten-search-results":!0},on:{input:e.setterminalIds},model:{value:e.terminalIds,callback:function(t){e.terminalIds=t},expression:"terminalIds"}})},q=[],H=a("8593"),M={name:"DeviceSelect",data:function(){return{treeData:[{id:"company",label:"Company 🏢",children:[{id:"team-i",label:"Team I 👥",children:[{id:"person-a",label:"Person A 👱"},{id:"person-b",label:"Person B 🧔"}]},{id:"team-ii",label:"Team II 👥",children:[{id:"person-c",label:"Person C 👳"},{id:"person-d",label:"Person D 👧"}]},{id:"person-e",label:"Person E 👩"}]},{id:"companyZ",label:"Company 🏢",children:[{id:"team-iZ",label:"Team I 👥",children:[{id:"person-aZ",label:"Person A 👱"},{id:"person-bZ",label:"Person B 🧔"}]},{id:"team-iiZ",label:"Team II 👥",children:[{id:"person-cZ",label:"Person C 👳"},{id:"person-dZ",label:"Person D 👧"}]},{id:"person-eZ",label:"Person E 👩"}]}],normalizer:function(e){return{id:e.id,label:e.label,children:e.children,isDisabled:e.isNot}},terminalIds:[]}},computed:{size:function(){return this.$store.getters.size}},components:{Treeselect:g.a},created:function(){},methods:{getTreeList:function(){Object(H["a"])(this.listQuery).then(function(e){})},setterminalIds:function(){this.$emit("click",this.terminalIds)}}},A=M,B=Object(f["a"])(A,Z,q,!1,null,null,null),F=B.exports,N={data:function(){return{temp:{},rules:{},timeZoneOpt:[{value:2,label:"UTC-时间"},{value:1,label:"北京时间"}],timeCodeOpt:[{value:1,label:"十进制"},{value:2,label:"BCD编码"}],queryInformationOpt:[{value:0,label:"查询注册信息"},{value:1,label:"查询终端参数"}],timeCheck:{timeZone:1,timeCode:1},timeRange:[new Date(2016,9,10,0,0),new Date(2016,9,10,24,0)],queryInformation:null,terminalIds:[]}},components:{Sticky:b,Treeselect:g.a,FirmwareUpdate:w,Activation:T,SetParam:E,DeviceSelect:F},methods:{getterminalIds:function(e){this.terminalIds=e},parameterQuery:function(){console.log(this.queryInformation)},setPlatformTime:function(){console.log(this.terminalIds),console.log(Object(c["a"])(this.terminalIds))},setWorktime:function(){}}},U=N,V=(a("b821"),Object(f["a"])(U,n,o,!1,null,null,null)),Q=V.exports,J=(a("a0a5"),a("5f87")),W={name:"Dashboard",components:{trach_editor:Q},data:function(){return{currentRole:Object(J["a"])()}},computed:Object(s["a"])({},Object(i["b"])(["roles"])),created:function(){}},Y=W,G=Object(f["a"])(Y,l,r,!1,null,null,null);t["default"]=G.exports},"7c40":function(e,t,a){},8593:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var l=a("b775");function r(e){return Object(l["a"])({url:"/system/loginLog",method:"get",params:e})}},a43c:function(e,t,a){},b821:function(e,t,a){"use strict";var l=a("a43c"),r=a.n(l);r.a},bfd6:function(e,t,a){"use strict";var l=a("7c40"),r=a.n(l);r.a}}]);